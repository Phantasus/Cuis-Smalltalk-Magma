TheWorldMainDockingBar subclass: #MagmaWorldMainDockingBar	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'Magma-Squeak-Client-UI'!!MagmaWorldMainDockingBar methodsFor: 'file menu' stamp: 'cmm 2/10/2017 17:20'!addFileMenuItemsTo: aMenu 	"Same as super, except removes the 'Save as new version' option."	self newWorldMenuItemOn: aMenu.	Smalltalk hasMaui ifTrue:		[ self showWorldMenuItemOn: aMenu.		self worldClass current isInMagma			ifTrue: [ self closeWorldMenuItemOn: aMenu ]			ifFalse: [ self saveDeployableDatabaseMenuItemOn: aMenu ].		aMenu addLine.		self			 configurationMenuItemOn: aMenu ;			 developerModeMenuItemOn: aMenu ].	aMenu addLine.	self		 saveMenuItemOn: aMenu ;		 saveAsMenuItemOn: aMenu.	aMenu addLine.	self		 saveAndQuitMenuItemOn: aMenu ;		 quitMenuItemOn: aMenu! !!MagmaWorldMainDockingBar methodsFor: 'file menu' stamp: 'cmm 2/9/2017 22:03'!closeWorldMenuItemOn: menu 	menu addItem:		[ : item | item			 contents:				( 'Close ', self worldClass properName ) translated ;			 help:				(  'Close all panels and exit this ' , self worldClass properName , ' menu, back to the IDE menu.  Get back here by selecting Apps | ' translated, self worldClass properName , '.'  ) ;			 icon: MenuIcons smallQuitIcon form ;			 target: self worldClass ;			 selector: #close ]! !!MagmaWorldMainDockingBar methodsFor: 'file menu' stamp: 'cmm 2/8/2017 22:16'!configurationMenuItemOn: menu 	menu addItem:		[ : item | item			 contents: 'Configure' translated ;			 help: 'Opens a new ', self worldClass installerClass name, ' panel.' translated ;			 icon: MauiIconSet new tinyWrenchGray form ;			 target: self worldClass ;			 selector: #openConfigurationPanel ]! !!MagmaWorldMainDockingBar methodsFor: 'file menu' stamp: 'cmm 2/9/2017 22:40'!developerModeMenuItemOn: menu 	menu addItem:		[ : item | item			 contents: 'Developer Mode' translated ;			 help: 'Enables developer menu and hot-keys.' ;			 icon: MauiIconSet new smallPencil form ;			 target: self worldClass ;			 selector: #developerModeOn ]! !!MagmaWorldMainDockingBar methodsFor: 'file menu' stamp: 'cmm 12/29/2015 20:13'!fileMenuOn: aDockingBar 	"Same as super, except removes the 'Save as new version' option."	aDockingBar addItem:		[ : item | item			 contents: self worldClass properName translated ;			 addSubMenu:				[ : menu | self addFileMenuItemsTo: menu ] ]! !!MagmaWorldMainDockingBar methodsFor: 'file menu' stamp: 'cmm 1/6/2016 21:33'!newWorldMenuItemOn: menu 	menu addItem:		[ : item | item			 contents: ('New ', self worldClass name) translated ;			 help: 'Close the current ', self worldClass name, ' and create a new one.' translated ;			 icon: MenuIcons smallNewIcon form ;			 target: self ;			 selector: #resetWorld ]! !!MagmaWorldMainDockingBar methodsFor: 'file menu' stamp: 'cmm 12/28/2015 21:41'!quitMenuItemOn: menu	menu addItem: [ :item |		item			contents: 'Quit' translated;			help: 'Quit this image' translated;			icon: MenuIcons smallQuitIcon;			target: self;			selector: #quitSqueak ]! !!MagmaWorldMainDockingBar methodsFor: 'file menu' stamp: 'cmm 12/29/2015 20:05'!resetWorld	(UIManager confirm: 'Are you sure you want to close this world and start with a new, empty world?') ifTrue: [ self worldClass refresh ]! !!MagmaWorldMainDockingBar methodsFor: 'file menu' stamp: 'cmm 7/24/2011 15:10'!saveAndQuitMenuItemOn: menu	menu addItem: [ :item |		item			contents: 'Save And Quit' translated;			help: 'Save the current state of the desktop on disk, then quit.' translated;			icon: MenuIcons smallQuitIcon;			target: self;			selector: #saveAndQuitSqueak ]! !!MagmaWorldMainDockingBar methodsFor: 'file menu' stamp: 'cmm 7/24/2011 15:10'!saveAsMenuItemOn: menu	menu addItem: [ :item |			item			contents: 'Save As...' translated;			help: 'Save the current state of desktop on disk under a new name' translated;			icon: MenuIcons smallSaveAsIcon;			target: self;			selector: #saveImageAs ]! !!MagmaWorldMainDockingBar methodsFor: 'file menu' stamp: 'cmm 1/6/2016 21:34'!saveDeployableDatabaseMenuItemOn: aMenu	aMenu addItem:		[ : item | item			 contents: 'Save As Database' translated ;			 help: 'Saves the current ', self worldClass name, ' as the root object of a Magma database which can be deployed on a server.' translated ;			 icon: MauiIconSet new emptyDbIcon form ;			 target: self worldClass ;			 selector: #saveDeployableDatabase ]! !!MagmaWorldMainDockingBar methodsFor: 'file menu' stamp: 'cmm 7/24/2011 15:10'!saveMenuItemOn: menu	menu addItem: [ :item |		item			contents: 'Save' translated;			help: 'Save the current state of the desktop on disk' translated;			icon: MenuIcons smallSaveIcon;			target: self;			selector: #saveImage ]! !!MagmaWorldMainDockingBar methodsFor: 'file menu' stamp: 'cmm 1/13/2016 21:50'!showWorldMenuItemOn: menu	menu addItem: [ :item |		item			contents: 'Show' translated;			help: 'Open the current ', self worldClass name, ' object on the desktop.' translated;			icon: MenuIcons smallLeftFlushIcon form ;			target: self worldClass ;			selector: #openMauiPanel ]! !!MagmaWorldMainDockingBar methodsFor: 'overridden' stamp: 'cmm 1/5/2012 21:25'!applicationMenuOn: aDockingBarMenuMorph	"Subclasses add their custom menus to aDockingBarMenuMorph."! !!MagmaWorldMainDockingBar methodsFor: 'overridden' stamp: 'cmm 9/11/2011 21:40'!helpSubmenuOn: aDockingBarMenuMorph	"Subclasses override as desired."! !!MagmaWorldMainDockingBar methodsFor: 'overridden' stamp: 'cmm 9/11/2011 21:02'!worldClass	"Answer the subclass of MagmaWorld which goes with this menu."	^ MagmaWorld! !!MagmaWorldMainDockingBar methodsFor: 'accessing' stamp: 'cmm 9/11/2011 20:57'!applicationName	self subclassResponsibility! !!MagmaWorldMainDockingBar methodsFor: 'app menu' stamp: 'cmm 9/11/2011 22:40'!exitWorldMenuItemOn: aDockingBarMenuMorph 	aDockingBarMenuMorph		 addLine ;		 addItem:			[ : item | item				 contents: 'IDE' translated ;				 help: 'Remove the application menu -- for further development.' translated ;				 target: self worldClass ;				 selector: #reset ]! !!MagmaWorldMainDockingBar methodsFor: 'help menu' stamp: 'cmm 9/11/2011 21:19'!helpMenuOn: aDockingBarMenuMorph 	aDockingBarMenuMorph addItem:		[ : item | item			 contents: 'Help' translated ;			 addSubMenu: [ : menu |  self helpSubmenuOn: menu ] ]! !!MagmaWorldMainDockingBar methodsFor: 'construction' stamp: 'cmm 12/29/2015 16:38'!menusOn: aDockingBarMorph 	| appMenu |	appMenu := self		 fileMenuOn: aDockingBarMorph ";		 applicationMenuOn: aDockingBarMorph.	self		 exitWorldMenuItemOn: appMenu ;		 helpMenuOn: aDockingBarMorph"! !